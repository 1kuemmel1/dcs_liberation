-------------------------------------------------------------------------------------------------------------------------------------------------------------
-- configuration file for the JTAC Autolase framework
--
-- This configuration is tailored for a mission generated by DCS Liberation
-- see https://github.com/Khopa/dcs_liberation
-------------------------------------------------------------------------------------------------------------------------------------------------------------

-- JTACAutolase plugin - configuration
env.info("DCSLiberation|JTACAutolase plugin - configuration")

if dcsLiberation then
    veaf.logTrace("dcsLiberation")

    -- specific options
    local smoke = false

    -- retrieve specific options values
    if dcsLiberation.plugins then
        veaf.logTrace("dcsLiberation.plugins")
    
        if dcsLiberation.plugins.jtacautolase then
            veaf.logTrace("dcsLiberation.plugins.jtacautolase")
            veaf.logTrace(string.format("dcsLiberation.plugins.jtacautolase.smoke=%s",veaf.p(dcsLiberation.plugins.jtacautolase.smoke)))
    
            smoke = dcsLiberation.plugins.jtacautolase.smoke
        end
    end
    
    veaf.logTrace(string.format("smoke=%s",veaf.p(smoke)))

    -- actual configuration code    
    for _, jtac in pairs(dcsLiberation.JTACs) do
        if dcsLiberation.JTACAutoLase then 
            dcsLiberation.JTACAutoLase(jtac.dcsUnit, jtac.code, smoke, 'vehicle') 
        end
    end
    
end